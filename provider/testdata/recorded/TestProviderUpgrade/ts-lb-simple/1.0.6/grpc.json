{"method":"/pulumirpc.LanguageRuntime/GetPluginInfo","request":{},"response":{}}
{"method":"/pulumirpc.LanguageRuntime/GetRequiredPlugins","request":{"project":"deprecated","pwd":"/private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple","program":".","info":{"rootDirectory":"/private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple","programDirectory":"/private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple","entryPoint":".","options":{}}},"response":{"plugins":[{"name":"aws","kind":"resource","version":"v5.35.0"},{"name":"awsx","kind":"resource","version":"v1.0.6"},{"name":"docker","kind":"resource","version":"v3.6.1"}]}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"secrets"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"pulumi:pulumi:Stack","name":"ts-lb-simple-test","object":{},"acceptSecrets":true,"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true,"aliasSpecs":true,"sourcePosition":{"uri":"file:///private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple/node_modules/@pulumi/runtime/stack.ts","line":36,"column":23}},"response":{"urn":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","object":{}}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"outputValues"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"deletedWith"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"aliasSpecs"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"transforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"1.0.6"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"urn":"urn:pulumi:test::ts-lb-simple::pulumi:providers:awsx::default_1_0_6","olds":{},"news":{"version":"1.0.6"}}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"args":{"version":"1.0.6"},"acceptSecrets":true,"acceptResources":true,"sendsOldInputs":true,"sendsOldInputsToDelete":true},"response":{"acceptSecrets":true,"acceptResources":true,"acceptOutputs":true}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"v5.35.0"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"urn":"urn:pulumi:test::ts-lb-simple::pulumi:providers:aws::default_5_35_0","olds":{},"news":{"version":"5.35.0"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"awsx:lb:ApplicationLoadBalancer","name":"nginx-lb","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","object":{},"acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","object":{}}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"args":{"version":"5.35.0"},"acceptSecrets":true,"acceptResources":true,"sendsOldInputs":true,"sendsOldInputsToDelete":true},"response":{"supportsPreview":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","olds":{},"news":{},"randomSeed":"bswUTQscc0BWjxXIAOANKPdGzV/R7eC7ZswIc/Rr7mA="},"response":{"inputs":{"__defaults":["name"],"name":"default-cluster-9ca3167"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","outputs":{}},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getVpc:getVpc","args":{"default":true}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:vpc/vpc-4b82e033","cidrBlock":"172.31.0.0/16","cidrBlockAssociations":[{"associationId":"vpc-cidr-assoc-4a99a020","cidrBlock":"172.31.0.0/16","state":"associated"}],"default":true,"dhcpOptionsId":"dopt-1649d26e","enableDnsHostnames":true,"enableDnsSupport":true,"enableNetworkAddressUsageMetrics":false,"id":"vpc-4b82e033","instanceTenancy":"default","ipv6AssociationId":"","ipv6CidrBlock":"","mainRouteTableId":"rtb-a05f10db","ownerId":"616138583583","tags":{"Name":"Default VPC"}}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getVpc:getVpc","args":{"default":true},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:vpc/vpc-4b82e033","cidrBlock":"172.31.0.0/16","cidrBlockAssociations":[{"associationId":"vpc-cidr-assoc-4a99a020","cidrBlock":"172.31.0.0/16","state":"associated"}],"default":true,"dhcpOptionsId":"dopt-1649d26e","enableDnsHostnames":true,"enableDnsSupport":true,"enableNetworkAddressUsageMetrics":false,"id":"vpc-4b82e033","instanceTenancy":"default","ipv6AssociationId":"","ipv6CidrBlock":"","mainRouteTableId":"rtb-a05f10db","ownerId":"616138583583","tags":{"Name":"Default VPC"}}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnets:getSubnets","args":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}]}},"response":{"return":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}],"id":"us-west-2","ids":["subnet-0b4f9fb1df1543b07","subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnets:getSubnets","args":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}]},"version":"5.35.0","acceptResources":true},"response":{"return":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}],"id":"us-west-2","ids":["subnet-0b4f9fb1df1543b07","subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-c7d926bf"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-c7d926bf","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4087,"cidrBlock":"172.31.16.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-c7d926bf","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2b"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-c7d926bf"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-c7d926bf","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4087,"cidrBlock":"172.31.16.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-c7d926bf","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2b"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-0b4f9fb1df1543b07"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-0b4f9fb1df1543b07","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4091,"cidrBlock":"172.31.128.0/20","customerOwnedIpv4Pool":"","defaultForAz":false,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-0b4f9fb1df1543b07","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":false,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default-Private-Subnet","Owner":"diana@pulumi.com","owner":"docs-team"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-0b4f9fb1df1543b07"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-0b4f9fb1df1543b07","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4091,"cidrBlock":"172.31.128.0/20","customerOwnedIpv4Pool":"","defaultForAz":false,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-0b4f9fb1df1543b07","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":false,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default-Private-Subnet","Owner":"diana@pulumi.com","owner":"docs-team"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-43f43a1e"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-43f43a1e","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2c","availabilityZoneId":"usw2-az3","availableIpAddressCount":4088,"cidrBlock":"172.31.0.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-43f43a1e","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2c"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-43f43a1e"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-43f43a1e","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2c","availabilityZoneId":"usw2-az3","availableIpAddressCount":4088,"cidrBlock":"172.31.0.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-43f43a1e","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2c"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-d7e7fe9c"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-d7e7fe9c","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2a","availabilityZoneId":"usw2-az2","availableIpAddressCount":4090,"cidrBlock":"172.31.32.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-d7e7fe9c","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2a"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-d7e7fe9c"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-d7e7fe9c","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2a","availabilityZoneId":"usw2-az2","availableIpAddressCount":4090,"cidrBlock":"172.31.32.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-d7e7fe9c","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2a"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb","olds":{},"news":{"description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","toPort":65535}],"ingress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","toPort":0}],"vpcId":"vpc-4b82e033"},"randomSeed":"zgEOseHfHvN8bSEdVZ1k59xJILzBpuw4bjFLL5J36LY="},"response":{"inputs":{"__defaults":["name","revokeRulesOnDelete"],"description":"Managed by Pulumi","egress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","self":false,"toPort":65535}],"ingress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","self":false,"toPort":0}],"name":"nginx-lb-d372790","revokeRulesOnDelete":false,"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","olds":{},"news":{"port":80,"protocol":"HTTP","targetType":"ip","vpcId":"vpc-4b82e033"},"randomSeed":"DwXRim3/TEiO1ymfZcfksi7NnlcwT/38LRwiAoZwww8="},"response":{"inputs":{"__defaults":["connectionTermination","lambdaMultiValueHeadersEnabled","name","proxyProtocolV2","slowStart"],"connectionTermination":false,"lambdaMultiValueHeadersEnabled":false,"name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","proxyProtocolV2":false,"slowStart":0,"targetType":"ip","vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","properties":{"__defaults":["connectionTermination","lambdaMultiValueHeadersEnabled","name","proxyProtocolV2","slowStart"],"connectionTermination":false,"lambdaMultiValueHeadersEnabled":false,"name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","proxyProtocolV2":false,"slowStart":0,"targetType":"ip","vpcId":"vpc-4b82e033"}},"response":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","properties":{"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","arnSuffix":"targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","connectionTermination":false,"deregistrationDelay":300,"healthCheck":{"enabled":true,"healthyThreshold":5,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthyThreshold":2},"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","ipAddressType":"ipv4","lambdaMultiValueHeadersEnabled":false,"loadBalancingAlgorithmType":"round_robin","loadBalancingCrossZoneEnabled":"use_load_balancer_configuration","name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","protocolVersion":"HTTP1","proxyProtocolV2":false,"slowStart":0,"stickiness":{"cookieDuration":86400,"cookieName":"","enabled":false,"type":"lb_cookie"},"tags":{},"tagsAll":{},"targetFailovers":[null],"targetType":"ip","vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:lb/targetGroup:TargetGroup","name":"nginx-lb","parent":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","custom":true,"object":{"port":80,"protocol":"HTTP","targetType":"ip","vpcId":"vpc-4b82e033"},"propertyDependencies":{"port":{},"protocol":{},"targetType":{},"vpcId":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/targetGroup:TargetGroup::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","object":{"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","arnSuffix":"targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","connectionTermination":false,"deregistrationDelay":300,"healthCheck":{"enabled":true,"healthyThreshold":5,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthyThreshold":2},"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","ipAddressType":"ipv4","lambdaMultiValueHeadersEnabled":false,"loadBalancingAlgorithmType":"round_robin","loadBalancingCrossZoneEnabled":"use_load_balancer_configuration","name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","protocolVersion":"HTTP1","proxyProtocolV2":false,"slowStart":0,"stickiness":{"cookieDuration":86400,"cookieName":"","enabled":false,"type":"lb_cookie"},"tags":{},"tagsAll":{},"targetFailovers":[null],"targetType":"ip","vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb","properties":{"__defaults":["name","revokeRulesOnDelete"],"description":"Managed by Pulumi","egress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","self":false,"toPort":65535}],"ingress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","self":false,"toPort":0}],"name":"nginx-lb-d372790","revokeRulesOnDelete":false,"vpcId":"vpc-4b82e033"}},"response":{"id":"sg-0af3796e465449e3b","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":900000000000},\"schema_version\":\"1\"}","arn":"arn:aws:ec2:us-west-2:616138583583:security-group/sg-0af3796e465449e3b","description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"tcp","securityGroups":[],"self":false,"toPort":65535}],"id":"sg-0af3796e465449e3b","ingress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"-1","securityGroups":[],"self":false,"toPort":0}],"name":"nginx-lb-d372790","namePrefix":"","ownerId":"616138583583","revokeRulesOnDelete":false,"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:ec2/securityGroup:SecurityGroup","name":"nginx-lb","parent":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","custom":true,"object":{"description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","toPort":65535}],"ingress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","toPort":0}],"vpcId":"vpc-4b82e033"},"propertyDependencies":{"description":{},"egress":{},"ingress":{},"vpcId":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb","id":"sg-0af3796e465449e3b","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":900000000000},\"schema_version\":\"1\"}","arn":"arn:aws:ec2:us-west-2:616138583583:security-group/sg-0af3796e465449e3b","description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"tcp","securityGroups":[],"self":false,"toPort":65535}],"id":"sg-0af3796e465449e3b","ingress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"-1","securityGroups":[],"self":false,"toPort":0}],"name":"nginx-lb-d372790","namePrefix":"","ownerId":"616138583583","revokeRulesOnDelete":false,"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb","olds":{},"news":{"loadBalancerType":"application","securityGroups":["sg-0af3796e465449e3b"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]},"randomSeed":"uluGjSIPeGIyb4f8zpMVoo0qK1WNPdf9nXXaH4wIYU0="},"response":{"inputs":{"__defaults":["desyncMitigationMode","dropInvalidHeaderFields","enableCrossZoneLoadBalancing","enableDeletionProtection","enableHttp2","enableTlsVersionAndCipherSuiteHeaders","enableWafFailOpen","enableXffClientPort","idleTimeout","name","preserveHostHeader","xffHeaderProcessingMode"],"desyncMitigationMode":"defensive","dropInvalidHeaderFields":false,"enableCrossZoneLoadBalancing":false,"enableDeletionProtection":false,"enableHttp2":true,"enableTlsVersionAndCipherSuiteHeaders":false,"enableWafFailOpen":false,"enableXffClientPort":false,"idleTimeout":60,"loadBalancerType":"application","name":"nginx-lb-4d62b6a","preserveHostHeader":false,"securityGroups":["sg-0af3796e465449e3b"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"],"xffHeaderProcessingMode":"append"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","properties":{"__defaults":["name"],"name":"default-cluster-9ca3167"}},"response":{"id":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","properties":{"arn":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","capacityProviders":[],"defaultCapacityProviderStrategies":[],"id":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","name":"default-cluster-9ca3167","serviceConnectDefaults":null,"settings":[{"name":"containerInsights","value":"disabled"}],"tags":{},"tagsAll":{}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:ecs/cluster:Cluster","name":"default-cluster","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","custom":true,"object":{},"version":"5.35.0","acceptSecrets":true,"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true,"aliasSpecs":true,"sourcePosition":{"uri":"file:///private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple/index.ts","line":5,"column":17}},"response":{"urn":"urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","id":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","object":{"arn":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","capacityProviders":[],"defaultCapacityProviderStrategies":[],"id":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","name":"default-cluster-9ca3167","serviceConnectDefaults":null,"settings":[{"name":"containerInsights","value":"disabled"}],"tags":{},"tagsAll":{}}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb","properties":{"__defaults":["desyncMitigationMode","dropInvalidHeaderFields","enableCrossZoneLoadBalancing","enableDeletionProtection","enableHttp2","enableTlsVersionAndCipherSuiteHeaders","enableWafFailOpen","enableXffClientPort","idleTimeout","name","preserveHostHeader","xffHeaderProcessingMode"],"desyncMitigationMode":"defensive","dropInvalidHeaderFields":false,"enableCrossZoneLoadBalancing":false,"enableDeletionProtection":false,"enableHttp2":true,"enableTlsVersionAndCipherSuiteHeaders":false,"enableWafFailOpen":false,"enableXffClientPort":false,"idleTimeout":60,"loadBalancerType":"application","name":"nginx-lb-4d62b6a","preserveHostHeader":false,"securityGroups":["sg-0af3796e465449e3b"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"],"xffHeaderProcessingMode":"append"}},"response":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}}","accessLogs":{"bucket":"","enabled":false,"prefix":""},"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","arnSuffix":"app/nginx-lb-4d62b6a/12367259f0d86828","customerOwnedIpv4Pool":"","desyncMitigationMode":"defensive","dnsName":"nginx-lb-4d62b6a-99442918.us-west-2.elb.amazonaws.com","dropInvalidHeaderFields":false,"enableCrossZoneLoadBalancing":true,"enableDeletionProtection":false,"enableHttp2":true,"enableTlsVersionAndCipherSuiteHeaders":false,"enableWafFailOpen":false,"enableXffClientPort":false,"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","idleTimeout":60,"internal":false,"ipAddressType":"ipv4","loadBalancerType":"application","name":"nginx-lb-4d62b6a","preserveHostHeader":false,"securityGroups":["sg-0af3796e465449e3b"],"subnetMappings":[{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-c7d926bf"},{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-d7e7fe9c"},{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-43f43a1e"}],"subnets":["subnet-d7e7fe9c","subnet-c7d926bf","subnet-43f43a1e"],"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033","xffHeaderProcessingMode":"append","zoneId":"Z1H1FL5HABSF5"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:lb/loadBalancer:LoadBalancer","name":"nginx-lb","parent":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","custom":true,"object":{"loadBalancerType":"application","securityGroups":["sg-0af3796e465449e3b"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]},"dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"],"propertyDependencies":{"loadBalancerType":{},"securityGroups":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"]},"subnets":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/loadBalancer:LoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/loadBalancer:LoadBalancer::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}}","accessLogs":{"bucket":"","enabled":false,"prefix":""},"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","arnSuffix":"app/nginx-lb-4d62b6a/12367259f0d86828","customerOwnedIpv4Pool":"","desyncMitigationMode":"defensive","dnsName":"nginx-lb-4d62b6a-99442918.us-west-2.elb.amazonaws.com","dropInvalidHeaderFields":false,"enableCrossZoneLoadBalancing":true,"enableDeletionProtection":false,"enableHttp2":true,"enableTlsVersionAndCipherSuiteHeaders":false,"enableWafFailOpen":false,"enableXffClientPort":false,"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","idleTimeout":60,"internal":false,"ipAddressType":"ipv4","loadBalancerType":"application","name":"nginx-lb-4d62b6a","preserveHostHeader":false,"securityGroups":["sg-0af3796e465449e3b"],"subnetMappings":[{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-c7d926bf"},{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-d7e7fe9c"},{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-43f43a1e"}],"subnets":["subnet-d7e7fe9c","subnet-c7d926bf","subnet-43f43a1e"],"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033","xffHeaderProcessingMode":"append","zoneId":"Z1H1FL5HABSF5"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0","olds":{},"news":{"defaultActions":[{"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP"},"randomSeed":"ofMuQkm/MOaMFDKgN2sS7TC2SkFyYK9iNRqtRQ5xGsc="},"response":{"inputs":{"__defaults":[],"defaultActions":[{"__defaults":[],"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0","properties":{"__defaults":[],"defaultActions":[{"__defaults":[],"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP"}},"response":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"read\":600000000000}}","arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","defaultActions":[{"authenticateCognito":null,"authenticateOidc":null,"fixedResponse":null,"forward":null,"order":1,"redirect":null,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP","sslPolicy":"","tags":{},"tagsAll":{}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:lb/listener:Listener","name":"nginx-lb-0","parent":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","custom":true,"object":{"defaultActions":[{"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP"},"dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"],"propertyDependencies":{"defaultActions":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"]},"loadBalancerArn":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"]},"port":{},"protocol":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/listener:Listener::nginx-lb-0","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer-0","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/listener:Listener::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer-0"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"read\":600000000000}}","arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","defaultActions":[{"authenticateCognito":null,"authenticateOidc":null,"fixedResponse":null,"forward":null,"order":1,"redirect":null,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP","sslPolicy":"","tags":{},"tagsAll":{}}}}
{"method":"/pulumirpc.ResourceProvider/Construct","request":{"project":"ts-lb-simple","stack":"test","parallel":48,"monitorEndpoint":"127.0.0.1:62762","type":"awsx:lb:ApplicationLoadBalancer","name":"nginx-lb","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","inputs":{},"customTimeouts":{},"acceptsOutputValues":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","state":{"defaultSecurityGroup":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"sg-0af3796e465449e3b","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"},"defaultTargetGroup":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"},"listeners":[{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0"}],"loadBalancer":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"},"vpcId":"vpc-4b82e033"},"stateDependencies":{"defaultSecurityGroup":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"]},"defaultTargetGroup":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"]},"listeners":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0"]},"loadBalancer":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"]},"vpcId":{}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"awsx:lb:ApplicationLoadBalancer","name":"nginx-lb","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","object":{},"version":"1.0.6","acceptSecrets":true,"customTimeouts":{},"supportsPartialValues":true,"remote":true,"acceptResources":true,"aliasSpecs":true,"sourcePosition":{"uri":"file:///private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple/index.ts","line":7,"column":12}},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","object":{"defaultSecurityGroup":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"sg-0af3796e465449e3b","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"},"defaultTargetGroup":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"},"listeners":[{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0"}],"loadBalancer":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"},"vpcId":"vpc-4b82e033"},"propertyDependencies":{"defaultSecurityGroup":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"]},"defaultTargetGroup":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"]},"listeners":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0"]},"loadBalancer":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"]},"vpcId":{}}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0"},"acceptResources":true},"response":{"return":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","state":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"read\":600000000000}}","arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","defaultActions":[{"authenticateCognito":null,"authenticateOidc":null,"fixedResponse":null,"forward":null,"order":1,"redirect":null,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","type":"forward"}],"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:listener/app/nginx-lb-4d62b6a/12367259f0d86828/b5316af0d12023eb","loadBalancerArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","port":80,"protocol":"HTTP","sslPolicy":"","tags":{},"tagsAll":{}},"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/listener:Listener::nginx-lb-0"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"},"acceptResources":true},"response":{"return":{"id":"sg-0af3796e465449e3b","state":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":900000000000},\"schema_version\":\"1\"}","arn":"arn:aws:ec2:us-west-2:616138583583:security-group/sg-0af3796e465449e3b","description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"tcp","securityGroups":[],"self":false,"toPort":65535}],"id":"sg-0af3796e465449e3b","ingress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"-1","securityGroups":[],"self":false,"toPort":0}],"name":"nginx-lb-d372790","namePrefix":"","ownerId":"616138583583","revokeRulesOnDelete":false,"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033"},"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:ec2/securityGroup:SecurityGroup::nginx-lb"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"},"acceptResources":true},"response":{"return":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","state":{"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","arnSuffix":"targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","connectionTermination":false,"deregistrationDelay":300,"healthCheck":{"enabled":true,"healthyThreshold":5,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthyThreshold":2},"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","ipAddressType":"ipv4","lambdaMultiValueHeadersEnabled":false,"loadBalancingAlgorithmType":"round_robin","loadBalancingCrossZoneEnabled":"use_load_balancer_configuration","name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","protocolVersion":"HTTP1","proxyProtocolV2":false,"slowStart":0,"stickiness":{"cookieDuration":86400,"cookieName":"","enabled":false,"type":"lb_cookie"},"tags":{},"tagsAll":{},"targetFailovers":[null],"targetType":"ip","vpcId":"vpc-4b82e033"},"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"},"acceptResources":true},"response":{"return":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","state":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}}","accessLogs":{"bucket":"","enabled":false,"prefix":""},"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","arnSuffix":"app/nginx-lb-4d62b6a/12367259f0d86828","customerOwnedIpv4Pool":"","desyncMitigationMode":"defensive","dnsName":"nginx-lb-4d62b6a-99442918.us-west-2.elb.amazonaws.com","dropInvalidHeaderFields":false,"enableCrossZoneLoadBalancing":true,"enableDeletionProtection":false,"enableHttp2":true,"enableTlsVersionAndCipherSuiteHeaders":false,"enableWafFailOpen":false,"enableXffClientPort":false,"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:loadbalancer/app/nginx-lb-4d62b6a/12367259f0d86828","idleTimeout":60,"internal":false,"ipAddressType":"ipv4","loadBalancerType":"application","name":"nginx-lb-4d62b6a","preserveHostHeader":false,"securityGroups":["sg-0af3796e465449e3b"],"subnetMappings":[{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-c7d926bf"},{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-d7e7fe9c"},{"allocationId":"","ipv6Address":"","outpostId":"","privateIpv4Address":"","subnetId":"subnet-43f43a1e"}],"subnets":["subnet-d7e7fe9c","subnet-c7d926bf","subnet-43f43a1e"],"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033","xffHeaderProcessingMode":"append","zoneId":"Z1H1FL5HABSF5"},"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::nginx-lb"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"urn":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","outputs":{"url":"nginx-lb-4d62b6a-99442918.us-west-2.elb.amazonaws.com"}},"response":{}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"},"acceptResources":true},"response":{"return":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","state":{"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","arnSuffix":"targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","connectionTermination":false,"deregistrationDelay":300,"healthCheck":{"enabled":true,"healthyThreshold":5,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthyThreshold":2},"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","ipAddressType":"ipv4","lambdaMultiValueHeadersEnabled":false,"loadBalancingAlgorithmType":"round_robin","loadBalancingCrossZoneEnabled":"use_load_balancer_configuration","name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","protocolVersion":"HTTP1","proxyProtocolV2":false,"slowStart":0,"stickiness":{"cookieDuration":86400,"cookieName":"","enabled":false,"type":"lb_cookie"},"tags":{},"tagsAll":{},"targetFailovers":[null],"targetType":"ip","vpcId":"vpc-4b82e033"},"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"awsx:ecs:FargateService","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","object":{},"dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"],"acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService::my-service"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","object":{}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","outputs":{}},"response":{}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"awsx:ecs:FargateTaskDefinition","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","object":{},"acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition::my-service","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition::my-service"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","object":{}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","outputs":{}},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service","olds":{},"news":{},"randomSeed":"sl5rens7WMvDhdDE6ArxUMFuqb0Z4kp345rl3WfYBUE="},"response":{"inputs":{"__defaults":["name","retentionInDays","skipDestroy"],"name":"my-service-6958342","retentionInDays":0,"skipDestroy":false}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution","olds":{},"news":{"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}"},"randomSeed":"FkxKJM8EF6yjPNdrGmyCxQRBAcNhNaeE70mrC1tkJwc="},"response":{"inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"my-service-execution-f9bb786","path":"/"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task","olds":{},"news":{"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}"},"randomSeed":"BnZFK/2R3ej79QaGufuiMvAslntCepU8I1tCI3+O2tQ="},"response":{"inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"my-service-task-49f38d3","path":"/"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:index/getCallerIdentity:getCallerIdentity","args":{}},"response":{"return":{"accountId":"616138583583","arn":"arn:aws:sts::616138583583:assumed-role/AWSReservedSSO_AdministratorAccess_224e23fb315b65cb/florian@pulumi.com","id":"616138583583","userId":"AROAY65FYVYP6E2HSUXEV:florian@pulumi.com"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:index/getCallerIdentity:getCallerIdentity","args":{},"version":"5.35.0","acceptResources":true},"response":{"return":{"accountId":"616138583583","arn":"arn:aws:sts::616138583583:assumed-role/AWSReservedSSO_AdministratorAccess_224e23fb315b65cb/florian@pulumi.com","id":"616138583583","userId":"AROAY65FYVYP6E2HSUXEV:florian@pulumi.com"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution","properties":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"my-service-execution-f9bb786","path":"/"}},"response":{"id":"my-service-execution-f9bb786","properties":{"arn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-05-13T17:19:29Z","description":"","forceDetachPolicies":false,"id":"my-service-execution-f9bb786","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"my-service-execution-f9bb786","namePrefix":"","path":"/","tags":{},"tagsAll":{},"uniqueId":"AROAY65FYVYPYYPWYGXXU"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:iam/role:Role","name":"my-service-execution","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","custom":true,"object":{"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}"},"propertyDependencies":{"assumeRolePolicy":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution","id":"my-service-execution-f9bb786","object":{"arn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-05-13T17:19:29Z","description":"","forceDetachPolicies":false,"id":"my-service-execution-f9bb786","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"my-service-execution-f9bb786","namePrefix":"","path":"/","tags":{},"tagsAll":{},"uniqueId":"AROAY65FYVYPYYPWYGXXU"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::my-service-execution-9a42f520","olds":{},"news":{"policyArn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"my-service-execution-f9bb786"},"randomSeed":"gPUyT2BMxS5qPpmnKYoxrD73R9fMI5i5jpVpavJVmw4="},"response":{"inputs":{"__defaults":[],"policyArn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"my-service-execution-f9bb786"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task","properties":{"__defaults":["forceDetachPolicies","maxSessionDuration","name","path"],"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}","forceDetachPolicies":false,"maxSessionDuration":3600,"name":"my-service-task-49f38d3","path":"/"}},"response":{"id":"my-service-task-49f38d3","properties":{"arn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-05-13T17:19:29Z","description":"","forceDetachPolicies":false,"id":"my-service-task-49f38d3","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"my-service-task-49f38d3","namePrefix":"","path":"/","tags":{},"tagsAll":{},"uniqueId":"AROAY65FYVYP4HYQS622C"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:iam/role:Role","name":"my-service-task","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","custom":true,"object":{"assumeRolePolicy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Effect\":\"Allow\",\"Sid\":\"\"}]}"},"propertyDependencies":{"assumeRolePolicy":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task","id":"my-service-task-49f38d3","object":{"arn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-05-13T17:19:29Z","description":"","forceDetachPolicies":false,"id":"my-service-task-49f38d3","inlinePolicies":[],"managedPolicyArns":[],"maxSessionDuration":3600,"name":"my-service-task-49f38d3","namePrefix":"","path":"/","tags":{},"tagsAll":{},"uniqueId":"AROAY65FYVYP4HYQS622C"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service","properties":{"__defaults":["name","retentionInDays","skipDestroy"],"name":"my-service-6958342","retentionInDays":0,"skipDestroy":false}},"response":{"id":"my-service-6958342","properties":{"arn":"arn:aws:logs:us-west-2:616138583583:log-group:my-service-6958342","id":"my-service-6958342","kmsKeyId":"","name":"my-service-6958342","namePrefix":"","retentionInDays":0,"skipDestroy":false,"tags":{},"tagsAll":{}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:cloudwatch/logGroup:LogGroup","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","custom":true,"object":{},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service","id":"my-service-6958342","object":{"arn":"arn:aws:logs:us-west-2:616138583583:log-group:my-service-6958342","id":"my-service-6958342","kmsKeyId":"","name":"my-service-6958342","namePrefix":"","retentionInDays":0,"skipDestroy":false,"tags":{},"tagsAll":{}}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service","olds":{},"news":{"containerDefinitions":"[{\"cpu\":512,\"essential\":true,\"image\":\"nginx:latest\",\"memory\":128,\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80}],\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}}}]","cpu":"512","executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3"},"randomSeed":"q1tTU4AhH2Ay60zKZohuzTnsm8byRPM0BmyU/XtoSPc="},"response":{"inputs":{"__defaults":["skipDestroy"],"containerDefinitions":"[{\"cpu\":512,\"essential\":true,\"image\":\"nginx:latest\",\"memory\":128,\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80}],\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}}}]","cpu":"512","executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"skipDestroy":false,"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::my-service-execution-9a42f520","properties":{"__defaults":[],"policyArn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"my-service-execution-f9bb786"}},"response":{"id":"my-service-execution-f9bb786-20240513171930727500000001","properties":{"id":"my-service-execution-f9bb786-20240513171930727500000001","policyArn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"my-service-execution-f9bb786"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","name":"my-service-execution-9a42f520","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","custom":true,"object":{"policyArn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"my-service-execution-f9bb786"},"dependencies":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution"],"propertyDependencies":{"policyArn":{},"role":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution"]}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::my-service-execution-9a42f520","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::my-service-execution-9a42f520","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::my-service-execution-9a42f520"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::my-service-execution-9a42f520","id":"my-service-execution-f9bb786-20240513171930727500000001","object":{"id":"my-service-execution-f9bb786-20240513171930727500000001","policyArn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"my-service-execution-f9bb786"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getVpc:getVpc","args":{"default":true}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:vpc/vpc-4b82e033","cidrBlock":"172.31.0.0/16","cidrBlockAssociations":[{"associationId":"vpc-cidr-assoc-4a99a020","cidrBlock":"172.31.0.0/16","state":"associated"}],"default":true,"dhcpOptionsId":"dopt-1649d26e","enableDnsHostnames":true,"enableDnsSupport":true,"enableNetworkAddressUsageMetrics":false,"id":"vpc-4b82e033","instanceTenancy":"default","ipv6AssociationId":"","ipv6CidrBlock":"","mainRouteTableId":"rtb-a05f10db","ownerId":"616138583583","tags":{"Name":"Default VPC"}}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getVpc:getVpc","args":{"default":true},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:vpc/vpc-4b82e033","cidrBlock":"172.31.0.0/16","cidrBlockAssociations":[{"associationId":"vpc-cidr-assoc-4a99a020","cidrBlock":"172.31.0.0/16","state":"associated"}],"default":true,"dhcpOptionsId":"dopt-1649d26e","enableDnsHostnames":true,"enableDnsSupport":true,"enableNetworkAddressUsageMetrics":false,"id":"vpc-4b82e033","instanceTenancy":"default","ipv6AssociationId":"","ipv6CidrBlock":"","mainRouteTableId":"rtb-a05f10db","ownerId":"616138583583","tags":{"Name":"Default VPC"}}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnets:getSubnets","args":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}]}},"response":{"return":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}],"id":"us-west-2","ids":["subnet-0b4f9fb1df1543b07","subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnets:getSubnets","args":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}]},"version":"5.35.0","acceptResources":true},"response":{"return":{"filters":[{"name":"vpc-id","values":["vpc-4b82e033"]}],"id":"us-west-2","ids":["subnet-0b4f9fb1df1543b07","subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service","properties":{"__defaults":["skipDestroy"],"containerDefinitions":"[{\"cpu\":512,\"essential\":true,\"image\":\"nginx:latest\",\"memory\":128,\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80}],\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}}}]","cpu":"512","executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"skipDestroy":false,"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3"}},"response":{"id":"my-service-cad6677c","properties":{"__meta":"{\"schema_version\":\"1\"}","arn":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","arnWithoutRevision":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c","containerDefinitions":"[{\"cpu\":512,\"environment\":[],\"essential\":true,\"image\":\"nginx:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}},\"memory\":128,\"mountPoints\":[],\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]}]","cpu":"512","ephemeralStorage":null,"executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","id":"my-service-cad6677c","inferenceAccelerators":[],"ipcMode":"","memory":"1024","networkMode":"awsvpc","pidMode":"","placementConstraints":[],"proxyConfiguration":null,"requiresCompatibilities":["FARGATE"],"revision":1,"runtimePlatform":null,"skipDestroy":false,"tags":{},"tagsAll":{},"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3","volumes":[]}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:ecs/taskDefinition:TaskDefinition","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition::my-service","custom":true,"object":{"containerDefinitions":"[{\"cpu\":512,\"essential\":true,\"image\":\"nginx:latest\",\"memory\":128,\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80}],\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}}}]","cpu":"512","executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3"},"dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task"],"propertyDependencies":{"containerDefinitions":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service"]},"cpu":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service"]},"executionRoleArn":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-execution"]},"family":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service"]},"memory":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:cloudwatch/logGroup:LogGroup::my-service"]},"networkMode":{},"requiresCompatibilities":{},"taskRoleArn":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:iam/role:Role::my-service-task"]}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service","urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$awsx:x:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service","id":"my-service-cad6677c","object":{"__meta":"{\"schema_version\":\"1\"}","arn":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","arnWithoutRevision":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c","containerDefinitions":"[{\"cpu\":512,\"environment\":[],\"essential\":true,\"image\":\"nginx:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}},\"memory\":128,\"mountPoints\":[],\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]}]","cpu":"512","ephemeralStorage":null,"executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","id":"my-service-cad6677c","inferenceAccelerators":[],"ipcMode":"","memory":"1024","networkMode":"awsvpc","pidMode":"","placementConstraints":[],"proxyConfiguration":null,"requiresCompatibilities":["FARGATE"],"revision":1,"runtimePlatform":null,"skipDestroy":false,"tags":{},"tagsAll":{},"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3","volumes":[]}}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-c7d926bf"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-c7d926bf","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4087,"cidrBlock":"172.31.16.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-c7d926bf","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2b"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-c7d926bf"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-c7d926bf","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4087,"cidrBlock":"172.31.16.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-c7d926bf","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2b"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-43f43a1e"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-43f43a1e","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2c","availabilityZoneId":"usw2-az3","availableIpAddressCount":4087,"cidrBlock":"172.31.0.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-43f43a1e","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2c"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-43f43a1e"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-43f43a1e","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2c","availabilityZoneId":"usw2-az3","availableIpAddressCount":4087,"cidrBlock":"172.31.0.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-43f43a1e","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2c"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-0b4f9fb1df1543b07"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-0b4f9fb1df1543b07","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4091,"cidrBlock":"172.31.128.0/20","customerOwnedIpv4Pool":"","defaultForAz":false,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-0b4f9fb1df1543b07","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":false,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default-Private-Subnet","Owner":"diana@pulumi.com","owner":"docs-team"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-0b4f9fb1df1543b07"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-0b4f9fb1df1543b07","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2b","availabilityZoneId":"usw2-az1","availableIpAddressCount":4091,"cidrBlock":"172.31.128.0/20","customerOwnedIpv4Pool":"","defaultForAz":false,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-0b4f9fb1df1543b07","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":false,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default-Private-Subnet","Owner":"diana@pulumi.com","owner":"docs-team"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-d7e7fe9c"}},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-d7e7fe9c","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2a","availabilityZoneId":"usw2-az2","availableIpAddressCount":4090,"cidrBlock":"172.31.32.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-d7e7fe9c","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2a"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"aws:ec2/getSubnet:getSubnet","args":{"id":"subnet-d7e7fe9c"},"version":"5.35.0","acceptResources":true},"response":{"return":{"arn":"arn:aws:ec2:us-west-2:616138583583:subnet/subnet-d7e7fe9c","assignIpv6AddressOnCreation":false,"availabilityZone":"us-west-2a","availabilityZoneId":"usw2-az2","availableIpAddressCount":4090,"cidrBlock":"172.31.32.0/20","customerOwnedIpv4Pool":"","defaultForAz":true,"enableDns64":false,"enableResourceNameDnsARecordOnLaunch":false,"enableResourceNameDnsAaaaRecordOnLaunch":false,"id":"subnet-d7e7fe9c","ipv6CidrBlock":"","ipv6CidrBlockAssociationId":"","ipv6Native":false,"mapCustomerOwnedIpOnLaunch":false,"mapPublicIpOnLaunch":true,"outpostArn":"","ownerId":"616138583583","privateDnsHostnameTypeOnLaunch":"ip-name","state":"available","tags":{"Name":"Default subnet for us-west-2a"},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ec2/securityGroup:SecurityGroup::my-service-sg","olds":{},"news":{"description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","toPort":65535}],"ingress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","toPort":0}],"vpcId":"vpc-4b82e033"},"randomSeed":"1vCwMUsJYHNqPF7ftOTtorl3PF2ZBoBYS8x1zprMf9E="},"response":{"inputs":{"__defaults":["name","revokeRulesOnDelete"],"description":"Managed by Pulumi","egress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","self":false,"toPort":65535}],"ingress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","self":false,"toPort":0}],"name":"my-service-sg-50d0a39","revokeRulesOnDelete":false,"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ec2/securityGroup:SecurityGroup::my-service-sg","properties":{"__defaults":["name","revokeRulesOnDelete"],"description":"Managed by Pulumi","egress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","self":false,"toPort":65535}],"ingress":[{"__defaults":["self"],"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","self":false,"toPort":0}],"name":"my-service-sg-50d0a39","revokeRulesOnDelete":false,"vpcId":"vpc-4b82e033"}},"response":{"id":"sg-0b354284a59e38f38","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":900000000000},\"schema_version\":\"1\"}","arn":"arn:aws:ec2:us-west-2:616138583583:security-group/sg-0b354284a59e38f38","description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"tcp","securityGroups":[],"self":false,"toPort":65535}],"id":"sg-0b354284a59e38f38","ingress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"-1","securityGroups":[],"self":false,"toPort":0}],"name":"my-service-sg-50d0a39","namePrefix":"","ownerId":"616138583583","revokeRulesOnDelete":false,"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:ec2/securityGroup:SecurityGroup","name":"my-service-sg","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","custom":true,"object":{"description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"tcp","toPort":65535}],"ingress":[{"cidrBlocks":["0.0.0.0/0"],"fromPort":0,"ipv6CidrBlocks":["::/0"],"protocol":"-1","toPort":0}],"vpcId":"vpc-4b82e033"},"propertyDependencies":{"description":{},"egress":{},"ingress":{},"vpcId":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$aws:ec2/securityGroup:SecurityGroup::my-service-sg"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ec2/securityGroup:SecurityGroup::my-service-sg","id":"sg-0b354284a59e38f38","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":900000000000},\"schema_version\":\"1\"}","arn":"arn:aws:ec2:us-west-2:616138583583:security-group/sg-0b354284a59e38f38","description":"Managed by Pulumi","egress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"tcp","securityGroups":[],"self":false,"toPort":65535}],"id":"sg-0b354284a59e38f38","ingress":[{"cidrBlocks":["0.0.0.0/0"],"description":"","fromPort":0,"ipv6CidrBlocks":["::/0"],"prefixListIds":[],"protocol":"-1","securityGroups":[],"self":false,"toPort":0}],"name":"my-service-sg-50d0a39","namePrefix":"","ownerId":"616138583583","revokeRulesOnDelete":false,"tags":{},"tagsAll":{},"vpcId":"vpc-4b82e033"}}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service","olds":{},"news":{"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","desiredCount":1,"launchType":"FARGATE","loadBalancers":[{"containerName":"nginx","containerPort":80,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"networkConfiguration":{"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]},"taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","waitForSteadyState":true},"randomSeed":"RXx1E60G+K9t5hiXH9uZsHnjnnDwsXFe2nm9eClcff4="},"response":{"inputs":{"__defaults":["deploymentMaximumPercent","deploymentMinimumHealthyPercent","enableEcsManagedTags","enableExecuteCommand","name","schedulingStrategy"],"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","deploymentMaximumPercent":200,"deploymentMinimumHealthyPercent":100,"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":false,"launchType":"FARGATE","loadBalancers":[{"__defaults":[],"containerName":"nginx","containerPort":80,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"name":"my-service-8e21ee3","networkConfiguration":{"__defaults":[],"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]},"schedulingStrategy":"REPLICA","taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","waitForSteadyState":true}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service","properties":{"__defaults":["deploymentMaximumPercent","deploymentMinimumHealthyPercent","enableEcsManagedTags","enableExecuteCommand","name","schedulingStrategy"],"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","deploymentMaximumPercent":200,"deploymentMinimumHealthyPercent":100,"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":false,"launchType":"FARGATE","loadBalancers":[{"__defaults":[],"containerName":"nginx","containerPort":80,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"name":"my-service-8e21ee3","networkConfiguration":{"__defaults":[],"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]},"schedulingStrategy":"REPLICA","taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","waitForSteadyState":true}},"response":{"id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","properties":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":1200000000000,\"update\":1200000000000}}","alarms":null,"capacityProviderStrategies":[],"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","deploymentCircuitBreaker":{"enable":false,"rollback":false},"deploymentController":{"type":"ECS"},"deploymentMaximumPercent":200,"deploymentMinimumHealthyPercent":100,"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":false,"healthCheckGracePeriodSeconds":0,"iamRole":"aws-service-role","id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","launchType":"FARGATE","loadBalancers":[{"containerName":"nginx","containerPort":80,"elbName":"","targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"name":"my-service-8e21ee3","networkConfiguration":{"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-d7e7fe9c","subnet-c7d926bf","subnet-43f43a1e"]},"orderedPlacementStrategies":[],"placementConstraints":[],"platformVersion":"LATEST","propagateTags":"NONE","schedulingStrategy":"REPLICA","serviceRegistries":null,"tags":{},"tagsAll":{},"taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","triggers":{},"waitForSteadyState":true}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"aws:ecs/service:Service","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","custom":true,"object":{"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","desiredCount":1,"launchType":"FARGATE","loadBalancers":[{"containerName":"nginx","containerPort":80,"targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"networkConfiguration":{"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-43f43a1e","subnet-c7d926bf","subnet-d7e7fe9c"]},"taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","waitForSteadyState":true},"dependencies":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ec2/securityGroup:SecurityGroup::my-service-sg","urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"],"propertyDependencies":{"cluster":{"urns":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster"]},"desiredCount":{},"launchType":{},"loadBalancers":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb"]},"networkConfiguration":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ec2/securityGroup:SecurityGroup::my-service-sg"]},"taskDefinition":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"]},"waitForSteadyState":{}},"version":"5.35.0","acceptSecrets":true,"aliasURNs":["urn:pulumi:test::ts-lb-simple::awsx:x:ecs:FargateService$aws:ecs/service:Service::my-service"],"customTimeouts":{},"supportsPartialValues":true,"acceptResources":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service","id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","object":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":1200000000000,\"update\":1200000000000}}","alarms":null,"capacityProviderStrategies":[],"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","deploymentCircuitBreaker":{"enable":false,"rollback":false},"deploymentController":{"type":"ECS"},"deploymentMaximumPercent":200,"deploymentMinimumHealthyPercent":100,"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":false,"healthCheckGracePeriodSeconds":0,"iamRole":"aws-service-role","id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","launchType":"FARGATE","loadBalancers":[{"containerName":"nginx","containerPort":80,"elbName":"","targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"name":"my-service-8e21ee3","networkConfiguration":{"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-d7e7fe9c","subnet-c7d926bf","subnet-43f43a1e"]},"orderedPlacementStrategies":[],"placementConstraints":[],"platformVersion":"LATEST","propagateTags":"NONE","schedulingStrategy":"REPLICA","serviceRegistries":null,"tags":{},"tagsAll":{},"taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","triggers":{},"waitForSteadyState":true}}}
{"method":"/pulumirpc.ResourceProvider/Construct","request":{"project":"ts-lb-simple","stack":"test","parallel":48,"monitorEndpoint":"127.0.0.1:62762","type":"awsx:ecs:FargateService","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","inputs":{"assignPublicIp":true,"cluster":{"4dabf18193072939515e22adb298388d":"d0e6a833031e9bbcd3f4e8bde6ca49a4","dependencies":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster"],"value":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167"},"taskDefinitionArgs":{"container":{"cpu":512,"essential":true,"image":"nginx:latest","memory":128,"name":"nginx","portMappings":[{"containerPort":80,"targetGroup":{"4dabf18193072939515e22adb298388d":"d0e6a833031e9bbcd3f4e8bde6ca49a4","dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb"],"value":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"}}}]}}},"inputDependencies":{"assignPublicIp":{},"cluster":{"urns":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster"]},"taskDefinitionArgs":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb"]}},"dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb","urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"],"customTimeouts":{},"acceptsOutputValues":true},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","state":{"service":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service"},"taskDefinition":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"my-service-cad6677c","urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"}},"stateDependencies":{"service":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service"]},"taskDefinition":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"]}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"type":"awsx:ecs:FargateService","name":"my-service","parent":"urn:pulumi:test::ts-lb-simple::pulumi:pulumi:Stack::ts-lb-simple-test","object":{"assignPublicIp":true,"cluster":{"4dabf18193072939515e22adb298388d":"d0e6a833031e9bbcd3f4e8bde6ca49a4","dependencies":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster"],"value":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167"},"taskDefinitionArgs":{"container":{"cpu":512,"essential":true,"image":"nginx:latest","memory":128,"name":"nginx","portMappings":[{"containerPort":80,"targetGroup":{"4dabf18193072939515e22adb298388d":"d0e6a833031e9bbcd3f4e8bde6ca49a4","dependencies":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb"],"value":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"}}}]}}},"dependencies":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb"],"propertyDependencies":{"assignPublicIp":{},"cluster":{"urns":["urn:pulumi:test::ts-lb-simple::aws:ecs/cluster:Cluster::default-cluster"]},"taskDefinitionArgs":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb","urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer::nginx-lb"]}},"version":"1.0.6","acceptSecrets":true,"customTimeouts":{},"supportsPartialValues":true,"remote":true,"acceptResources":true,"aliasSpecs":true,"sourcePosition":{"uri":"file:///private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple/index.ts","line":8,"column":17}},"response":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService::my-service","object":{"service":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service"},"taskDefinition":{"4dabf18193072939515e22adb298388d":"5cf8f73096256a8f31e491e813e4eb8e","id":"my-service-cad6677c","urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"}},"propertyDependencies":{"service":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service"]},"taskDefinition":{"urns":["urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"]}}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"},"acceptResources":true},"response":{"return":{"id":"my-service-cad6677c","state":{"__meta":"{\"schema_version\":\"1\"}","arn":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","arnWithoutRevision":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c","containerDefinitions":"[{\"cpu\":512,\"environment\":[],\"essential\":true,\"image\":\"nginx:latest\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"my-service-6958342\",\"awslogs-region\":\"us-west-2\",\"awslogs-stream-prefix\":\"nginx\"}},\"memory\":128,\"mountPoints\":[],\"name\":\"nginx\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"systemControls\":[],\"volumesFrom\":[]}]","cpu":"512","ephemeralStorage":null,"executionRoleArn":"arn:aws:iam::616138583583:role/my-service-execution-f9bb786","family":"my-service-cad6677c","id":"my-service-cad6677c","inferenceAccelerators":[],"ipcMode":"","memory":"1024","networkMode":"awsvpc","pidMode":"","placementConstraints":[],"proxyConfiguration":null,"requiresCompatibilities":["FARGATE"],"revision":1,"runtimePlatform":null,"skipDestroy":false,"tags":{},"tagsAll":{},"taskRoleArn":"arn:aws:iam::616138583583:role/my-service-task-49f38d3","volumes":[]},"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$awsx:ecs:FargateTaskDefinition$aws:ecs/taskDefinition:TaskDefinition::my-service"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"},"acceptResources":true},"response":{"return":{"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","state":{"arn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","arnSuffix":"targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","connectionTermination":false,"deregistrationDelay":300,"healthCheck":{"enabled":true,"healthyThreshold":5,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthyThreshold":2},"id":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb","ipAddressType":"ipv4","lambdaMultiValueHeadersEnabled":false,"loadBalancingAlgorithmType":"round_robin","loadBalancingCrossZoneEnabled":"use_load_balancer_configuration","name":"nginx-lb-89e4a9a","port":80,"protocol":"HTTP","protocolVersion":"HTTP1","proxyProtocolV2":false,"slowStart":0,"stickiness":{"cookieDuration":86400,"cookieName":"","enabled":false,"type":"lb_cookie"},"tags":{},"tagsAll":{},"targetFailovers":[null],"targetType":"ip","vpcId":"vpc-4b82e033"},"urn":"urn:pulumi:test::ts-lb-simple::awsx:lb:ApplicationLoadBalancer$aws:lb/targetGroup:TargetGroup::nginx-lb"}}}
{"method":"/pulumirpc.ResourceMonitor/Invoke","request":{"tok":"pulumi:pulumi:getResource","args":{"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service"},"acceptResources":true},"response":{"return":{"id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","state":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":1200000000000,\"update\":1200000000000}}","alarms":null,"capacityProviderStrategies":[],"cluster":"arn:aws:ecs:us-west-2:616138583583:cluster/default-cluster-9ca3167","deploymentCircuitBreaker":{"enable":false,"rollback":false},"deploymentController":{"type":"ECS"},"deploymentMaximumPercent":200,"deploymentMinimumHealthyPercent":100,"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":false,"healthCheckGracePeriodSeconds":0,"iamRole":"aws-service-role","id":"arn:aws:ecs:us-west-2:616138583583:service/default-cluster-9ca3167/my-service-8e21ee3","launchType":"FARGATE","loadBalancers":[{"containerName":"nginx","containerPort":80,"elbName":"","targetGroupArn":"arn:aws:elasticloadbalancing:us-west-2:616138583583:targetgroup/nginx-lb-89e4a9a/b9adf6d87b871fdb"}],"name":"my-service-8e21ee3","networkConfiguration":{"assignPublicIp":true,"securityGroups":["sg-0b354284a59e38f38"],"subnets":["subnet-d7e7fe9c","subnet-c7d926bf","subnet-43f43a1e"]},"orderedPlacementStrategies":[],"placementConstraints":[],"platformVersion":"LATEST","propagateTags":"NONE","schedulingStrategy":"REPLICA","serviceRegistries":null,"tags":{},"tagsAll":{},"taskDefinition":"arn:aws:ecs:us-west-2:616138583583:task-definition/my-service-cad6677c:1","triggers":{},"waitForSteadyState":true},"urn":"urn:pulumi:test::ts-lb-simple::awsx:ecs:FargateService$aws:ecs/service:Service::my-service"}}}
{"method":"/pulumirpc.LanguageRuntime/Run","request":{"project":"ts-lb-simple","stack":"test","pwd":"/private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple","program":".","parallel":48,"monitorAddress":"127.0.0.1:62762","organization":"organization","configPropertyMap":{},"info":{"rootDirectory":"/private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple","programDirectory":"/private/var/folders/qb/q9rbqmxn1jqdfps720v2s9h80000gn/T/TestLoadBalancerUpgrade2495323564/007/ts-lb-simple","entryPoint":".","options":{}}},"response":{}}